<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="theme-color" content="#ff4757">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Conversor Universal">
    <title>Conversor Universal de Unidades</title>

    <!-- CSS -->
    <link rel="stylesheet" href="styles.css">

    <!-- Manifest para PWA -->
    <link rel="manifest" href="manifest.json">

    <!-- Favicon / Logo -->
    <link rel="icon" type="image/png" href="favicon.png">
    
    <style>
        /* Estilos b√°sicos para notifica√ß√µes */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #2ecc71;
            color: white;
            padding: 16px 24px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            transform: translateX(400px);
            transition: transform 0.3s ease;
            z-index: 10000;
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .notification.error {
            background: #e74c3c;
        }
        
        /* Estilo b√°sico para os pain√©is laterais */
        .side-panel {
            position: fixed;
            top: 0;
            right: -400px;
            width: 380px;
            height: 100vh;
            background: white;
            box-shadow: -4px 0 20px rgba(0,0,0,0.15);
            transition: right 0.3s ease;
            z-index: 1000;
            overflow-y: auto;
        }
        
        .side-panel.open {
            right: 0;
        }
        
        .panel-header {
            padding: 20px;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: between;
            align-items: center;
        }
        
        .close-btn {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            margin-left: auto;
        }
    </style>
</head>
<body>
    <!-- Part√≠culas de fundo -->
    <div id="particles-background"></div>

    <!-- NAVBAR -->
    <nav class="navbar">
        <div class="nav-brand">
            <img src="img/tec+original.png" alt="Logo" class="nav-logo">
        </div>

        <div class="nav-links">
            <a href="#" class="nav-link active">Conversor</a>
            <a href="#" class="nav-link" onclick="toggleHistory()">Hist√≥rico</a>
            <a href="#" class="nav-link" onclick="toggleFavorites()">Favoritos</a>
        </div>
    </nav>

    <!-- PAINEL HIST√ìRICO -->
    <aside id="historyPanel" class="side-panel">
        <div class="panel-header">
            <h3>Hist√≥rico de Convers√µes</h3>
            <button class="close-btn" onclick="toggleHistory()">&times;</button>
        </div>
        <div class="panel-content">
            <div id="historyList" class="history-list">
                <div class="no-history">Nenhuma convers√£o realizada ainda</div>
            </div>
            <button class="clear-btn" onclick="clearHistory()">Limpar Hist√≥rico</button>
        </div>
    </aside>

    <!-- PAINEL FAVORITOS -->
    <aside id="favoritesPanel" class="side-panel">
        <div class="panel-header">
            <h3>Convers√µes Favoritas</h3>
            <button class="close-btn" onclick="toggleFavorites()">&times;</button>
        </div>
        <div class="panel-content">
            <div id="favoritesList" class="favorites-list">
                <div class="no-favorites">Nenhuma convers√£o favorita</div>
            </div>
        </div>
    </aside>

    <div class="container">
        <!-- HERO -->
        <header class="hero-section">
            <div class="hero-content">
                <div class="hero-icon">
                    <!-- √çcone aqui -->
                </div>
                
                <h1 class="hero-title">
                    <span class="highlight">SISTEMA AVAN√áADO</span>
                    Conversor Universal
                </h1>
                <p class="hero-subtitle">
                    Sistema avan√ßado de convers√£o de unidades para metrologia profissional
                </p>

                <div class="stats-bar">
                    <div class="stat-item">
                        <span class="stat-number" id="totalConversions">0</span>
                        <span class="stat-label">Convers√µes</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">22</span>
                        <span class="stat-label">Categorias</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">200+</span>
                        <span class="stat-label">Unidades</span>
                    </div>
                </div>
                
                <!-- Bot√£o de instala√ß√£o personalizado -->
                <div id="installButton" class="install-container" style="display: none;">
                    <button class="install-btn pulse" id="installPWA">
                        <svg class="install-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                            <polyline points="7,10 12,15 17,10"/>
                            <line x1="12" y1="15" x2="12" y2="3"/>
                        </svg>
                        <span class="install-text">Download</span>
                        <div class="install-shimmer"></div>
                    </button>
                </div>
            </div>
        </header>

        <!-- CONVERSOR -->
        <main class="converter-main">
            <section class="converter-container">
                <!-- Seletor de categoria -->
                <div class="converter-header">
                    <div class="category-selector">
                        <label for="category">Categoria de Medi√ß√£o</label>
                        <select id="category" class="premium-select">
                            <option value="length">üìè Comprimento</option>
                            <option value="area">üìê √Årea</option>
                            <option value="volume">üßä Volume</option>
                            <option value="mass">‚öñÔ∏è Massa</option>
                            <option value="temperature">üå°Ô∏è Temperatura</option>
                            <option value="time">‚è∞ Tempo</option>
                            <option value="speed">üèÉ Velocidade</option>
                            <option value="acceleration">üöÄ Acelera√ß√£o</option>
                            <option value="force">üí™ For√ßa</option>
                            <option value="pressure">üåä Press√£o</option>
                            <option value="energy">‚ö° Energia</option>
                            <option value="power">üîã Pot√™ncia</option>
                            <option value="frequency">üì° Frequ√™ncia</option>
                            <option value="electric_current">‚ö° Corrente El√©trica</option>
                            <option value="electric_voltage">üîå Tens√£o El√©trica</option>
                            <option value="electric_resistance">üîß Resist√™ncia El√©trica</option>
                            <option value="electric_capacitance">üîã Capacit√¢ncia</option>
                            <option value="magnetic_field">üß≤ Campo Magn√©tico</option>
                            <option value="luminous_intensity">üí° Intensidade Luminosa</option>
                            <option value="angle">üìê √Çngulo</option>
                            <option value="data">üíæ Dados Digitais</option>
                            <option value="fuel_consumption">‚õΩ Consumo de Combust√≠vel</option>
                        </select>
                    </div>
                </div>

                <!-- Painel de convers√£o -->
                <div class="conversion-panel">
                    <!-- De -->
                    <div class="input-section from-section">
                        <div class="section-label">Converter De</div>
                        <div class="input-group">
                            <div class="value-input">
                                <input type="number" id="fromValue" placeholder="Digite o valor" step="any">
                                <div class="input-glow"></div>
                            </div>
                            <div class="unit-select">
                                <select id="fromUnit" class="unit-selector"></select>
                            </div>
                        </div>
                    </div>

                    <!-- Bot√µes de troca/favorito -->
                    <div class="swap-section">
                        <button id="swapButton" class="swap-btn" title="Inverter">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <path d="M7 16V4m0 0L3 8m4-4l4 4M17 8v12m0 0l4-4m-4 4l-4-4"/>
                            </svg>
                        </button>
                        <button id="favoriteButton" class="favorite-btn" title="Adicionar aos favoritos">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
                            </svg>
                        </button>
                    </div>

                    <!-- Para -->
                    <div class="input-section to-section">
                        <div class="section-label">Para</div>
                        <div class="input-group">
                            <div class="value-input">
                                <input type="number" id="toValue" placeholder="Resultado" readonly>
                                <div class="input-glow"></div>
                                <button class="copy-btn" onclick="copyResult()" title="Copiar resultado">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                        <rect width="14" height="14" x="8" y="8" rx="2" ry="2"/>
                                        <path d="M4 16c-1.1 0-2-.9-2 2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>
                                    </svg>
                                </button>
                            </div>
                            <div class="unit-select">
                                <select id="toUnit" class="unit-selector"></select>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Controles -->
                <div class="controls-panel">
                    <div class="precision-control">
                        <label for="precision">Precis√£o Decimal</label>
                        <select id="precision" class="control-select">
                            <option value="2">2 casas decimais</option>
                            <option value="4">4 casas decimais</option>
                            <option value="6" selected>6 casas decimais</option>
                            <option value="8">8 casas decimais</option>
                            <option value="10">10 casas decimais</option>
                        </select>
                    </div>

                    <div class="mode-control">
                        <label>Modo de Exibi√ß√£o</label>
                        <div class="mode-buttons">
                            <button class="mode-btn active" data-mode="standard" onclick="setDisplayMode('standard')">
                                Padr√£o
                            </button>
                            <button class="mode-btn" data-mode="scientific" onclick="setDisplayMode('scientific')">
                                Cient√≠fico
                            </button>
                        </div>
                    </div>
                </div>

                <!-- F√≥rmula e passos -->
                <div class="info-panels">
                    <section class="formula-panel">
                        <h3>F√≥rmula de Convers√£o</h3>
                        <div id="formula" class="formula-content">
                            Selecione as unidades para visualizar a f√≥rmula
                        </div>

                        <div class="calculation-steps">
                            <h4>Passos do C√°lculo</h4>
                            <div id="calculationSteps" class="steps-content">
                                Digite um valor para ver os passos
                            </div>
                        </div>
                    </section>

                    <section class="quick-panel">
                        <h3>Convers√µes R√°pidas</h3>
                        <div id="quickResults" class="quick-grid"></div>
                    </section>
                </div>

                <!-- Calculadora Cient√≠fica -->
                <section class="calculator-panel" style="display: none;">
                    <h3>Calculadora Cient√≠fica</h3>
                    <div class="calculator">
                        <div class="calc-display">
                            <input type="text" id="calcDisplay" readonly placeholder="0">
                        </div>

                        <div class="calc-buttons">
                            <button onclick="clearCalc()">C</button>
                            <button onclick="appendToCalc('/')" class="operator">√∑</button>
                            <button onclick="appendToCalc('*')" class="operator">√ó</button>
                            <button onclick="deleteLast()" title="Apagar √∫ltimo caractere">‚å´</button>

                            <button onclick="appendToCalc('7')">7</button>
                            <button onclick="appendToCalc('8')">8</button>
                            <button onclick="appendToCalc('9')">9</button>
                            <button onclick="appendToCalc('-')" class="operator">-</button>

                            <button onclick="appendToCalc('4')">4</button>
                            <button onclick="appendToCalc('5')">5</button>
                            <button onclick="appendToCalc('6')">6</button>
                            <button onclick="appendToCalc('+')" class="operator">+</button>

                            <button onclick="appendToCalc('1')">1</button>
                            <button onclick="appendToCalc('2')">2</button>
                            <button onclick="appendToCalc('3')">3</button>
                            <button onclick="calculate()" class="equals" style="grid-row: span 2;">=</button>

                            <button onclick="appendToCalc('0')" class="zero">0</button>
                            <button onclick="appendToCalc('.')">.</button>

                            <button onclick="appendFunction('Math.sqrt(')" class="scientific">‚àö</button>
                            <button onclick="appendFunction('Math.pow(')" class="scientific">^</button>
                            <button onclick="appendFunction('Math.sin(')" class="scientific">sin</button>
                            <button onclick="appendFunction('Math.cos(')" class="scientific">cos</button>
                            <button onclick="appendFunction('Math.tan(')" class="scientific">tan</button>
                            <button onclick="appendToCalc('Math.PI')" class="scientific">œÄ</button>
                            <button onclick="appendToCalc('Math.E')" class="scientific">e</button>
                            <button onclick="appendToCalc('(')">(</button>
                            <button onclick="appendToCalc(')')">)</button>
                        </div>
                    </div>
                </section>
            </section>
        </main>
    </div>

    <!-- JS -->
    <script src="script.js"></script>
</body>
</html>